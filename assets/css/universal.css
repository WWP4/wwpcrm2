/* Wonder World CRM — universal.css
   Production-light theme (Borex-style), no other CSS required.
   Layers keep order predictable; this file can live alone. */

@layer reset, tokens, base, layout, components, utilities, overrides;

/* ===================== RESET ===================== */
@layer reset{
  *,*::before,*::after{ box-sizing:border-box }
  html,body{ height:100% }
  body{ margin:0; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale }
  img,svg,video,canvas{ display:block; max-width:100% }
  button,input,select,textarea{ font:inherit }
}

/* ===================== TOKENS ===================== */
@layer tokens{
  :root{
    /* Surfaces & palette (light) */
    --bg:           #f5f7fb;   /* page */
    --surface:      #ffffff;   /* cards, header */
    --ink:          #111827;   /* text 900 */
    --ink-2:        #1f2937;   /* text 800 */
    --sub:          #6b7280;   /* text 500-600 */
    --muted:        #94a3b8;   /* labels */
    --line:         #e8edf3;   /* borders */

    /* Primary (blue) */
    --primary:      #3b82f6;
    --primary-600:  #2563eb;
    --primary-100:  #eaf2ff;

    /* Semantic */
    --success:      #16a34a;
    --warn:         #f59e0b;
    --danger:       #ef4444;

    /* Sidebar (navy) */
    --side-bg:      #0b1220;
    --side-ink:     #1e3a8a;   /* solid navy for text/icons */
    --side-hover:   rgba(255,255,255,.06);
    --side-active:  rgba(59,130,246,.14);

    /* Effects & radii */
    --shadow:       0 10px 30px rgba(2,6,23,.06);
    --r-xl:         18px;
    --r-lg:         14px;
    --r-md:         12px;
    --r-sm:         10px;

    /* Type scale */
    --font: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    --h1: clamp(1.45rem, 1.6vw + .9rem, 1.9rem);
    --h2: clamp(1.15rem, 1.2vw + .85rem, 1.35rem);
    --h3: 1.05rem;

    /* Motion */
    --ease: cubic-bezier(.22,.61,.36,1);
    --fast: 140ms; --slow: 260ms;
  }
}

/* ===================== BASE ===================== */
@layer base{
  body{ background:var(--bg); color:var(--ink-2); font-family:var(--font) }
  h1{ font-size:var(--h1); letter-spacing:-.01em; margin:0 0 .9rem; color:var(--ink) }
  h2{ font-size:var(--h2); margin:0 0 .7rem; color:var(--ink) }
  h3{ font-size:var(--h3); margin:0 0 .5rem; color:var(--ink) }
  a{ color:var(--primary); text-decoration:none }
  a:hover{ color:var(--primary-600) }
}

/* ===================== LAYOUT ===================== */
@layer layout{
  .ww-topbar{
    background:var(--surface);
    border-bottom:1px solid var(--line);
    box-shadow:var(--shadow);
  }
  .ww-logo{
    width:34px; height:34px; border-radius:10px;
    background: radial-gradient(40% 50% at 30% 30%, #90c5ff 0%, #3b82f6 55%, #2563eb 100%);
  }
  .ww-sidebar{
    width:220px; min-width:220px; max-width:220px;   /* compact rail */
    background:var(--side-bg);
    color:var(--side-ink);
    box-shadow: inset -1px 0 0 rgba(255,255,255,.03);
  }
  .ww-content{ min-height:100vh; background:var(--bg) }
}

/* ===================== COMPONENTS ===================== */
@layer components{
  /* Nav (sidebar) */
  .ww-sidebar .nav-link{
    display:flex; align-items:center; gap:.55rem;
    color:var(--side-ink);
    border:1px solid transparent;
    border-radius:10px;
    padding:.5rem .65rem;
    font-weight:600;
    transition:background var(--fast) var(--ease), color var(--fast) var(--ease), border-color var(--fast) var(--ease);
  }
  .ww-sidebar .nav-link i{ color:var(--side-ink) }
  .ww-sidebar .nav-link:hover{ background:var(--side-hover); color:#fff }
  .ww-sidebar .nav-link.active{
    background:var(--side-active);
    border-color:rgba(59,130,246,.3);
    color:#fff;
  }

  /* Cards (white, breathable, subtle border) */
  .card.ww-glass{
    background:var(--surface);
    color:var(--ink-2);
    border:1px solid var(--line);
    border-radius:var(--r-xl);
    box-shadow:var(--shadow);
  }
  .card.ww-glass .text-sub{ color:var(--sub) }

  /* Buttons */
  .btn-ww{
    font-weight:700; color:#fff;
    background: linear-gradient(90deg, var(--primary), #60a5fa 120%);
    border:0; border-radius:12px; padding:.55rem .9rem;
    box-shadow:0 8px 22px rgba(59,130,246,.18);
    transition:transform var(--fast) var(--ease), box-shadow var(--fast) var(--ease);
  }
  .btn-ww:hover{ transform:translateY(-1px); box-shadow:0 10px 26px rgba(59,130,246,.24) }
  .btn-outline-ww{
    border:1px solid var(--line); color:var(--ink-2); background:#fff; border-radius:12px;
  }
  .btn-outline-ww:hover{ background:var(--primary-100); border-color:#dbe7ff; color:var(--primary-600) }

  /* Forms */
  .form-control,.form-select{
    background:#fff; color:var(--ink-2);
    border:1px solid var(--line); border-radius:10px; padding:.55rem .7rem; box-shadow:none;
  }
  .form-control::placeholder{ color:#9aa4b2 }
  .form-control:focus,.form-select:focus{
    border-color:var(--primary);
    outline:0; box-shadow:0 0 0 3px rgba(59,130,246,.18);
  }

  /* Tables */
  .table{ color:var(--ink-2); background:transparent }
  .table thead th{ color:#4b5563; font-weight:600; border-bottom:1px solid var(--line) }
  .table > :not(caption) > * > *{ padding:.6rem .75rem; border-bottom:1px solid var(--line) }
  .table tbody tr:hover{ background:#f6f9ff }

  /* Progress */
  .progress{ height:.6rem; background:#eef2f7; border-radius:999px }
  .progress-bar{ background: linear-gradient(90deg, var(--primary), #60a5fa) }

  /* Soft badges */
  .badge-soft{ padding:.35rem .5rem; border-radius:999px; font-weight:600 }
  .badge-soft.success{ background:#eaf9f0; color:var(--success) }
  .badge-soft.warn{ background:#fff4e5; color:var(--warn) }
  .badge-soft.danger{ background:#ffecec; color:var(--danger) }

  /* KPI number size */
  .display-6{ font-size:1.75rem }
}

/* ===================== UTILITIES ===================== */
@layer utilities{
  .text-sub{ color:var(--sub)!important }
  .muted{ color:var(--muted)!important }
  .border-ww{ border-color:var(--line)!important }
  .bg-card{ background:var(--surface)!important }
  .rounded-lg{ border-radius:var(--r-lg)!important }
  .rounded-md{ border-radius:var(--r-md)!important }
  .shadow-ww{ box-shadow:var(--shadow)!important }

  /* Responsive gutters */
  @media (max-width: 992px){ .row.g-3{ --bs-gutter-x:.9rem; --bs-gutter-y:.9rem } }
  @media (max-width: 576px){ .row.g-3{ --bs-gutter-x:.75rem; --bs-gutter-y:.75rem } }

  /* Gentle appear */
  .fade-in{ animation:fadeIn var(--slow) var(--ease) both }
  @keyframes fadeIn{ from{ opacity:0; transform:translateY(6px) } to{ opacity:1; transform:none } }
}

/* ===================== OVERRIDES ===================== */
@layer overrides{
  /* Normalize headings inside cards */
  .card h5{ margin-bottom:.35rem; font-weight:700; color:var(--ink) }

  /* ApexCharts → light text without touching JS */
  .apexcharts-tooltip,.apexcharts-menu{ color:#111 }
  .apexcharts-legend-text,
  .apexcharts-xaxis text,
  .apexcharts-yaxis text{ fill:#6b7280!important }
  .apexcharts-title-text{ fill:#111827!important }

  /* DataTables polish */
  table.dataTable.no-footer{ border-bottom:1px solid var(--line)!important }
  .dataTables_paginate .paginate_button{ border:1px solid var(--line)!important; border-radius:8px; padding:.25rem .55rem }
  .dataTables_paginate .paginate_button.current,
  .dataTables_paginate .paginate_button:hover{ background:var(--primary-100)!important; color:var(--primary-600)!important; border-color:#dbe7ff!important }

  /* Ensure sidebar stays compact on any stray widths */
  .ww-sidebar{ width:220px!important }

  /* Remove legacy “glass/dark” blur if present */
  .ww-topbar,[class*="ww-glass"]{ backdrop-filter:none }
}
